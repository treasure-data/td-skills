# Schema Auto-Tagger Environment Configuration
# Copy this file to .env and update with your values

# ============================================================
# REQUIRED - Treasure Data Configuration
# ============================================================

# Your Treasure Data API Key
# Get from: tdx auth show
export TD_API_KEY="your-api-key-here"

# Treasure Data API Endpoint
# Options: https://api.treasuredata.com (us01), https://api.treasuredata.eu (eu01), https://api.treasuredata.jp (jp01)
export TD_ENDPOINT="https://api.treasuredata.com"

# Target Database
# The Treasure Data database where you want to scan tables
export DATABASE="your_database_name"

# ============================================================
# OPTIONAL - Tagging Configuration
# ============================================================

# Minimum confidence level for auto-approval
# Options: HIGH, MEDIUM, LOW
# Recommended: HIGH (90%+ confidence only)
export MIN_CONFIDENCE="HIGH"

# Path to custom rules file
export RULES_FILE="rules/schema_tagger_rules.yaml"

# ============================================================
# OPTIONAL - Slack Notifications
# ============================================================

# Slack Webhook URL for notifications
# Get from: Slack Workspace → Apps → Incoming Webhooks
# Leave empty to disable Slack notifications
export SLACK_WEBHOOK=""

# ============================================================
# OPTIONAL - Email Notifications
# ============================================================

# Email configuration for sending reports
# Leave all blank to disable email notifications

# SMTP Server Host
export SMTP_HOST=""

# SMTP Port (typically 587 for TLS, 465 for SSL)
export SMTP_PORT="587"

# SMTP Username
export SMTP_USER=""

# SMTP Password / App-Specific Password
export SMTP_PASSWORD=""

# From Email Address
export SMTP_FROM="noreply@company.com"

# To Email Address(es) - comma separated for multiple
export SMTP_TO="admin@company.com"

# ============================================================
# OPTIONAL - Workflow Scheduling
# ============================================================

# Schedule for digdag workflow
# Default: Daily at 2 AM UTC
# See auto_schema_tagger.dig for schedule: daily>: 02:00:00

# ============================================================
# NOTES
# ============================================================

# 1. Get API Key:
#    $ tdx auth show
#
# 2. Set environment variables:
#    $ source .env
#
# 3. Test connection:
#    $ python schema_auto_tagger_implementation.py $DATABASE --output-report test_report.txt
#
# 4. For Slack integration:
#    - Go to your Slack workspace settings
#    - Create an Incoming Webhook
#    - Copy the webhook URL
#    - Paste into SLACK_WEBHOOK above
#
# 5. For Email integration (Gmail example):
#    - Enable 2-Factor Authentication on Google Account
#    - Generate App Password: https://myaccount.google.com/apppasswords
#    - Use App Password (not your regular password)
#    - SMTP_HOST: smtp.gmail.com
#    - SMTP_PORT: 587
#    - SMTP_USER: your-email@gmail.com
#    - SMTP_PASSWORD: (your-app-password)
#
# 6. Keep this file secure - never commit .env to git
#    It contains sensitive credentials
